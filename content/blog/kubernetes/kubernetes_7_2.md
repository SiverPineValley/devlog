---
title: '[쿠버네티스 완벽 가이드] 15. 컨피그 & 스토리지 API 카테고리 (2) - 영구 볼륨 클레임, 볼륨, 영구볼륨'
date: 2022-10-20 20:00:00
category: 'kubernetes'
draft: true
---


# 7.5 영구 볼륨 클레임 리소스


영구 볼륨 클레임 리소스는 영구 볼륨을 사용하기 위한 리소스이다. 종류에는 볼륨, 영구 볼륨, 영구 볼륨 클레임이 있는데, 각각의 차이점은 다음과 같다.


- 볼륨: 미리 준비된 사용 가능 볼륨 등을 매니페스트에서 직접 지정하여 사용할 수 있게 하는 것이다. 설정된 볼륨의 사용은 가능하나, 신규 볼륨을 생성하거나 기존 볼륨을 삭제하는 것은 불가능하다.
- 영구 볼륨: 외부 영구 볼륨을 제공하는 시스템과 연계하여 신규 볼륨을 생성하거나 기존 볼륨을 삭제하는 등의 작업이 가능하다. 매니페스트를 통해 별도로 생성 가능하다. 볼륨과 영구 볼륨은 같은 플러그인을 제공한다.
- 영구 볼륨 클레임: 생성된 영구 볼륨 리소스를 할당하는 리소스이다. 영구 볼륨은 클러스터에 볼륨을 등록만 하기 때문에 실제 파드에서 사용하려면 영구 볼륨 클레임을 정의하고 사용해야 한다. 동적 프로비저닝 기능을 사용한 경우 영구 볼륨 클레임이 사용된 시점에 영구 볼륨을 동적으로 생성할 수 있다.


## 7.6 볼륨


쿠버네티스에서는 볼륨을 추상화하여 파드와 느슨하게 결합된 리소스로 정의하고 있다. 볼륨 플로그인은 다음과 같이 제공되는데, 앞서 설명한 시크릿과 컨피그맵도 볼륨 플러그인의 한 종류이다. 볼륨은 영구 볼륨과 다르게 정적으로 파드에 볼륨을 지정하므로 플러그인에 따라 충돌이 있을 수 있다.


- emptyDir
- hostPath
- downwardAPI
- projected
- nfs
- iscsi
- cephfs


### 7.6.1 emptyDir


emptyDir은 파드용 임시 디스크 영역으로 사용할 수 있다. 파드가 종료 되면 삭제된다. 호스트의 임의 영역을 마운트할 수 없으며 파일을 참조할 수도 없다.


```yaml
apiVersion: v1
kind: Pod
metadata:
  name: sample-emptydir
spec:
  containers:
  - image: nginx:1.16
    name: nginx-container
    volumeMounts:
    - mountPath: /cache
      name: cache-volume
  volumes:
  - name: cache-volume
    emptyDir: {}
```


